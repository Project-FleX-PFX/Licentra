<%# frontend/views/auth/register.erb %>
<% @title = "Register - Licentra" %>
<% @page_heading = "Create Your Account" %>
<% @auth_card_footer_partial = :'auth/partials/_register_footer' %>

<%# Der Hauptinhalt (Formular) wird in den yield-Block des Layouts eingefügt %>
<%# Beachten Sie, dass Flash-Nachrichten und @error bereits im Layout behandelt werden %>
<form id="register-form" action="/register" method="post">
  <div class="mb-3">
    <label for="username" class="form-label small mb-1">Username</label>
    <input type="text" id="username" name="username" value="<%= params[:username] %>" placeholder="Choose a unique username" class="form-control py-2 rounded-3" maxlength="63" required>
  </div>

  <div class="mb-3">
    <label for="first_name" class="form-label small mb-1">First Name</label>
    <input type="text" id="first_name" name="first_name" value="<%= params[:first_name] %>" placeholder="Enter your first name" class="form-control py-2 rounded-3" maxlength="100" required>
  </div>

  <div class="mb-3">
    <label for="last_name" class="form-label small mb-1">Last Name</label>
    <input type="text" id="last_name" name="last_name" value="<%= params[:last_name] %>" placeholder="Enter your last name" class="form-control py-2 rounded-3" maxlength="100" required>
  </div>

  <div class="mb-3">
    <label for="email" class="form-label small mb-1">Email</label>
    <input type="email" id="email" name="email" value="<%= params[:email] %>" placeholder="example@domain.com" class="form-control py-2 rounded-3" maxlength="254" required>
  </div>

  <div class="mb-3">
    <label for="password" class="form-label small mb-1">Password</label>
    <input type="password" id="password" name="password" class="form-control py-2 rounded-3" placeholder="Enter a strong password" maxlength="255" required>
    <%# Ihre Passwortstärke-Indikatoren. Stellen Sie sicher, dass die Font Awesome Icons
        entweder global geladen werden oder Sie hier alternative Icons verwenden,
        wenn Font Awesome nicht im layout_auth.erb ist. %>
    <div id="password-strength" class="mt-2" hidden>
      <h6 class="small fw-semibold">Password must contain:</h6>
      <p id="length" class="small text-danger mb-1"><i class="fas fa-times-circle me-1"></i>At least 10 characters</p>
      <p id="letter" class="small text-danger mb-1"><i class="fas fa-times-circle me-1"></i>At least one lowercase letter</p>
      <p id="capital" class="small text-danger mb-1"><i class="fas fa-times-circle me-1"></i>At least one uppercase letter</p>
      <p id="number" class="small text-danger mb-1"><i class="fas fa-times-circle me-1"></i>At least one number</p>
      <p id="special" class="small text-danger mb-1"><i class="fas fa-times-circle me-1"></i>At least one special character</p>
      <p id="forbidden" class="small text-danger mb-1"><i class="fas fa-times-circle me-1"></i>Must not contain "licentra" or "password"</p>
    </div>
  </div>

  <div class="mb-4">
    <label for="password_confirmation" class="form-label small mb-1">Confirm Password</label>
    <input type="password" id="password_confirmation" name="password_confirmation" class="form-control py-2 rounded-3" placeholder="Re-enter your password" required>
    <p id="match" class="small text-danger mt-1 mb-0" hidden><i class="fas fa-times-circle me-1"></i>Passwords do not match or are missing</p>
  </div>

  <div class="d-grid gap-2 mt-4">
    <button type="submit" class="btn btn-primary btn-lg py-2 rounded-3">
      Register
    </button>
  </div>
</form>

<%# Spezifisches Skript für diese Seite %>
<script type="module" src="/js/features/register/registerFormHandler.js"></script>